<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    #chartdiv {
      width: 100%;
      height: 400px;
    }
    </style>
    
    <!-- Resources -->
    <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/xy.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/percent.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
    
    <!-- Chart code -->
    <script>
    am5.ready(function() {
    
    // Set up data
    var data = [{
      category: "2010",
      value: 89,
      sliceSettings: {
        fill: am5.color(0xdc4534),
      },
      breakdown: [{
        category: "Монгол шуудан банк ➡️ Хадгаламж банк",
        value: 0.001 *  201000
      }, {
        category: "Зоос банк ➡️ Төрийн банк",
        value: 0.001 *  201000
      },]
    }, {
      category: "2011",
      value:   71,
      sliceSettings: {
        fill: "#8bb3c3",
      },
      breakdown: [{
        category: "Анод банк ➡️ Монгол банк",
        value: 0.001 *  201000
      },]
    }, 
    {
      category: "2012",
      value: 71,
      sliceSettings: {
        fill: "#a37d43",
      },
      breakdown: [{
        category: "УБ ББСБ ➡️ Улаанбаатар хотын банк",
        value: 0.001 *  1107326
      },]
    }, 
    {
      category: "2013",
      value:   71,
      sliceSettings: {
        fill: "#516d7e",
      },
      breakdown: [{
        category: "Хадгаламж банк ➡️ Төрийн банк",
        value: 0.001 *  201000
      },
      {
        category: "Улаанбаатар хотын банк ➡️ Юнайтед секьюритис",
        value: 0.001 *  301071
      },
      {
        category: "Чингис хаан банк хувьцаа эзэмшигчээр орж ирэв",
        value: 0.001 *  50000
      }],
    }, 
    {
      category: "2014",
      value:   71,
      sliceSettings: {
        fill: "#989c9c",
      },
      breakdown: [{
        category: "Хөгжлийн банк хувьцаа эзэмшигчээр орж ирэв",
        value: 0.001 *  2500000
      },],
    },
    {
      category: "2015",
      value:   71,
      sliceSettings: {
        fill: "#343434",
      },
      breakdown: [{
        category: "Ти Ди Би секьюритис ХХК \n хувьцаа эзэмшигчээр орж ирсэн",
        value: 0.001 *  1559765,
      },],
    },
    {
      category: "2016",
      value:   71,
      sliceSettings: {
        fill: "#00687a",
      },
      breakdown: [{
        category: "Худалдаа хөгжлийн банк ➡️ МИК ОССК",
        value: 0.001 *  1033395,
      },{
        category: "Улаанбаатар хотын банк ➡️ МИК ОССК",
        value: 0.001 *  1033395,
      },],
    },
    {
      category: "2017",
      value:   71,
      sliceSettings: {
        fill: "#c2bb1a",
      },
      breakdown: [{
        category: "Худалдаа хөгжлийн банк ➡️ МИК ОССК",
        value: 0.001 *  1035000,
      },{
        category: "Улаанбаатар хотын банк ➡️ МИК ОССК",
        value: 0.001 *  1035000,
      },],
    },
    {
      category: "2018",
      value:   71,
      sliceSettings: {
        fill: "#778714",
      },
      breakdown: [{
        category: "Улаанбаатар хотын банк ➡️ Азиа дайверсифайд рийл эстэйт фанд нэг хувийн ХО",
        value: 0.001 *  1800075,
      },{
        category: "Капитал банк ➡️ Азиа дайверсифайд рийл эстэйт фанд нэг хувийн ХОС",
        value: 0.001 *  356110,
      },{
        category: "Капитал банк ➡️ МИК АКТИВ 1 ТЗК",
        value: 0.001 *  892927,
      },{
        category: "Капитал банк ➡️ МИК АКТИВ 2 ТЗК",
        value: 0.001 *  432712,
      },{
        category: "Голомт банк ➡️ Нэксус финанс инвестмент",
        value: 0.001 *  130000,
      },
    ],

    },
    {
      category: "2019",
      value:   71,
      sliceSettings: {
        fill: "#687a00",
      },
      breakdown: [{
        category: "Улаанбаатар хотын банк ➡️ \n Азиа дайверсифайд рийл эстэйт фанд нэг хувийн ХОС",
        value: 0.001 *  437500,
      },{
        category: "Улаанбаатар хотын банк ➡️ Си И Си Групп",
        value: 0.001 *  488750,
      },{
        category: "Улаанбаатар хотын банк ➡️ Си Эн Би Коансалтинг",
        value: 0.001 *  539500,
      },
    ],

    },
    {
      category: "2020",
      value:   71,
      sliceSettings: {
        fill: "#606b00",
      },
      breakdown: [{
        category: "Улаанбаатар хотын банк ➡️ Худалдаа хөгжлийн банк",
        value: 0.001 *  2070912,
      },{
        category: "Монгол банк ➡️ Ти Ди Би секьюритис ХХК",
        value: 0.001 *  421241,
      },{
        category: "Хувь хүн ➡️ Ти Ди Би секьюритис ХХК",
        value: 0.001 *  644,
      },
    ],

    },
    {
      category: "2021",
      value:   71,
      sliceSettings: {
        fill: "#c05e1f",
      },
      breakdown: [{
        category: "Ти Ди Би секьюритис ХХК ➡️Юнайтэд бэнкинг корпорэйшн",
        value: 0.001 *  1232785,
      },{
        category: "Худалдаа хөгжлийн банк ➡️ Си Эн Би Коансалтинг",
        value: 0.001 *  2068980,
      },
    ],

    },
]
    
    // Create root element
    // https://www.amcharts.com/docs/v5/getting-started/#Root_element
    var root = am5.Root.new("chartdiv");
    
    
    // Set themes
    // https://www.amcharts.com/docs/v5/concepts/themes/
    root.setThemes([
      am5themes_Animated.new(root)
    ]);
    
    // Create wrapper container
    var container = root.container.children.push(am5.Container.new(root, {
      width: am5.p100,
      height: am5.p100,
      layout: root.horizontalLayout
    }));
    
    
    // ==============================================
    // Column chart
    // ==============================================
    
    // Create chart
    // https://www.amcharts.com/docs/v5/charts/xy-chart/
    var columnChart = container.children.push(am5xy.XYChart.new(root, {
      width: am5.p50,
      panX: false,
      panY: false,
      wheelX: "none",
      wheelY: "none",
      layout: root.verticalLayout
    }));
    
    // Create axes
    // https://www.amcharts.com/docs/v5/charts/xy-chart/axes/
    var yAxis = columnChart.yAxes.push(am5xy.CategoryAxis.new(root, {
      categoryField: "category",
      renderer: am5xy.AxisRendererY.new(root, {})
    }));
    
    //xAxis.data.setAll(data);
    
    var xAxis = columnChart.xAxes.push(am5xy.ValueAxis.new(root, {
      renderer: am5xy.AxisRendererX.new(root, {})
    }));
    
    
    // Add series
    // https://www.amcharts.com/docs/v5/charts/xy-chart/series/
    var columnSeries = columnChart.series.push(am5xy.ColumnSeries.new(root, {
      name: name,
      xAxis: xAxis,
      yAxis: yAxis,
      valueXField: "value",
      categoryYField: "category"
    }));
    
    columnSeries.columns.template.setAll({
      tooltipText: "{categoryY}: {valueX}"
    });
    
    //series.data.setAll(data);
    
    // Make stuff animate on load
    // https://www.amcharts.com/docs/v5/concepts/animations/
    columnChart.appear(1000, 100);
    
    
    // ==============================================
    // Column chart
    // ==============================================
    
    var pieChart = container.children.push( 
      am5percent.PieChart.new(root, {
        width: am5.p50,
        innerRadius: am5.percent(50)
      }) 
    );
    
    // Create series
    var pieSeries = pieChart.series.push(
      am5percent.PieSeries.new(root, {
        valueField: "value",
        categoryField: "category"
      })
    );
    
    pieSeries.slices.template.setAll({
      templateField: "sliceSettings",
      strokeOpacity: 0
    });
    
    var currentSlice;
    pieSeries.slices.template.on("active", function(active, slice) {
      if (currentSlice && currentSlice != slice && active) {
        currentSlice.set("active", false)
      }
      
      var color = slice.get("fill");
    
      label1.setAll({
        fill: color,
        text: root.numberFormatter.format(slice.dataItem.get("valuePercentTotal"), "#.'%'")
      });
      
      label2.set("text", slice.dataItem.get("category"));
      
      columnSeries.columns.template.setAll({
        fill: slice.get("fill"),
        stroke: slice.get("fill")
      });
      
      columnSeries.data.setAll(slice.dataItem.dataContext.breakdown);
      yAxis.data.setAll(slice.dataItem.dataContext.breakdown);
      
      currentSlice = slice;
    });
    
    pieSeries.labels.template.set("forceHidden", true);
    pieSeries.ticks.template.set("forceHidden", true);
    
    pieSeries.data.setAll(data);
    
    // Add label
    var label1 = pieChart.seriesContainer.children.push(am5.Label.new(root, {
      text: "",
      fontSize: 35,
      fontweight: "bold",
      centerX: am5.p50,
      centerY: am5.p50
    }));
    
    var label2 = pieChart.seriesContainer.children.push(am5.Label.new(root, {
      text: "",
      fontSize: 12,
      centerX: am5.p50,
      centerY: am5.p50,
      dy: 30
    }));
    
    // Pre-select first slice
    pieSeries.events.on("datavalidated", function() {
      pieSeries.slices.getIndex(0).set("active", true);
    });
    
    }); // end am5.ready()
    </script>
    
<body>
    <div id="chartdiv"></div>
</body>
</html>